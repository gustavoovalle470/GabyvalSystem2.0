<?xml version="1.0" encoding="UTF-8"?>
<!--
 * *****************************************************************************************************************************************************
 * *****************************************************************************************************************************************************
 * *****************************************************************************************************************************************************
 * *******************************                                                                              ****************************************
 * *******************************  ********** ********** ******    **      ** **      ** ********** **         ****************************************
 * *******************************  ********** **********  ******   **      ** **      ** ********** **         ****************************************
 * *******************************  **         **      **  **  **   **      ** **      ** **      ** **         ****************************************
 * *******************************  **         **      **  **  **   **      ** **      ** **      ** **         ****************************************
 * *******************************  **         **      **  ******    **    **  **      ** **      ** **         ****************************************
 * *******************************  **    **** **********  *******    **  **   **      ** ********** **         ****************************************
 * *******************************  **    **** **********  ********    ****    **      ** ********** **         ****************************************
 * *******************************  **      ** **      **  **    **     **     **      ** **      ** **         ****************************************
 * *******************************  **      ** **      **  **    **     **      **    **  **      ** **         ****************************************
 * *******************************  **      ** **      **  **   **      **       **  **   **      ** **         ****************************************
 * *******************************  ********** **      **  **  **       **        ****    **      ** ********** ****************************************
 * *******************************  ********** **      ** ******        **         **     **      ** ********** ****************************************
 * *****************************************************************************************************************************************************
 * *****************************************************************************************************************************************************
 * *****************************************************************************************************************************************************
 * |***************************************************************************************************************************************************|
 * |                                                        Control de versiones                                                                       |
 * |*********|**************|****************|*********************************************************************************************************|
 * | Version |    Fecha     |  Responsable   |                                                  Comentarios                                            |
 * |*********|**************|****************|*********************************************************************************************************|
 * |   1.0   |  08/09/2017  |      GAOQ      | Creacion de la vista de dialogo de cambio de contraseña por demanda.                                |   
 * |*********|**************|****************|*********************************************************************************************************|
 ******************************************************************************************************************************************************
 **Nombre del archivo: SelfChangePwdDlg.xhtml
 ******************************************************************************************************************************************************
 **Descripcion:        Dialogo utilizado para cambiar la contraseña de un usuario loggeado a peticion.
 ******************************************************************************************************************************************************
 **Componentes en que se usa: Dialogs.xhtml
 ******************************************************************************************************************************************************
-->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" >
    <body>
        <ui:composition>
            <p:dialog widgetVar="SelfChangePwdDlg" header="Cambio de contraseña" modal="true" height="150" closeOnEscape="true" closable="true">
                <h:form id="ChangePassSelf">
                    <h:outputText value="Administrador de contraseñas." />
                    <br></br>
                    <table border="0">
                        <tbody>
                            <tr>
                                <td><h:outputText value="Ingrese su Contraseña: *" /></td>
                                <td><p:password id="Selfpass1" value="#{userSesionBean.changePass1}" match="Selfpass2" 
                                                label="Contraseña" 
                                                required="true" 
                                                feedback="true" 
                                                requiredMessage="Se requiere un valor"
                                                promptLabel="Ingrese una contraseña"
                                                weakLabel="Muy debil"
                                                goodLabel="debil"
                                                strongLabel="Fuerte">
                                    </p:password>
                                </td>
                                <td><p:message for="Selfpass1" display="icon"/></td>
                            </tr>
                            <tr>
                                <td><h:outputText value="Repita su contraseña: *" /></td>
                                <td><p:password id="Selfpass2" value="#{userSesionBean.changePass2}" 
                                                label="Repetir contraseña" 
                                                required="true"
                                                immediate="true">
                                    </p:password></td>
                                <td><p:message for="Selfpass2" display="icon"/></td>
                            </tr>
                        </tbody>
                    </table>
                    <br></br>
                    <p:commandButton id="SelfchgPass" value="Cambiar contraseña" action="#{userSesionBean.changePassword()}" onclick="chgPassDialogSelf.hide()"/>
                </h:form>
            </p:dialog>
        </ui:composition>
    </body>
</html>
