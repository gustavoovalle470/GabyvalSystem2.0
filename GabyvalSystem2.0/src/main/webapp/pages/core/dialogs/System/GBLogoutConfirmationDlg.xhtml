<?xml version="1.0" encoding="UTF-8"?>
<!--
 * *****************************************************************************************************************************************************
 * *****************************************************************************************************************************************************
 * *****************************************************************************************************************************************************
 * *******************************                                                                              ****************************************
 * *******************************  ********** ********** ******    **      ** **      ** ********** **         ****************************************
 * *******************************  ********** **********  ******   **      ** **      ** ********** **         ****************************************
 * *******************************  **         **      **  **  **   **      ** **      ** **      ** **         ****************************************
 * *******************************  **         **      **  **  **   **      ** **      ** **      ** **         ****************************************
 * *******************************  **         **      **  ******    **    **  **      ** **      ** **         ****************************************
 * *******************************  **    **** **********  *******    **  **   **      ** ********** **         ****************************************
 * *******************************  **    **** **********  ********    ****    **      ** ********** **         ****************************************
 * *******************************  **      ** **      **  **    **     **     **      ** **      ** **         ****************************************
 * *******************************  **      ** **      **  **    **     **      **    **  **      ** **         ****************************************
 * *******************************  **      ** **      **  **   **      **       **  **   **      ** **         ****************************************
 * *******************************  ********** **      **  **  **       **        ****    **      ** ********** ****************************************
 * *******************************  ********** **      ** ******        **         **     **      ** ********** ****************************************
 * *****************************************************************************************************************************************************
 * *****************************************************************************************************************************************************
 * *****************************************************************************************************************************************************
 * |***************************************************************************************************************************************************|
 * |                                                        Control de versiones                                                                       |
 * |*********|**************|****************|*********************************************************************************************************|
 * | Version |    Fecha     |  Responsable   |                                                  Comentarios                                            |
 * |*********|**************|****************|*********************************************************************************************************|
 * |   1.0   |  11/06/2018  |      GAOQ      | Creacion del dialogo que se invoca para confirmar el cierre de sesión.                                  |   
 * |*********|**************|****************|*********************************************************************************************************|
 ******************************************************************************************************************************************************
 **Nombre del archivo: GBLogoutConfirmationDlg.xhtml
 ******************************************************************************************************************************************************
 **Descripcion:        Dialogo de confirmacion de cierre de sesion.
 ******************************************************************************************************************************************************
 **Componentes en que se usa: GBDialogs.xhtml.
 ******************************************************************************************************************************************************
-->
<!DOCTYPE html>
<html lang="es" 
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <h:head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="Página principal de acceso a la aplicacion GABYVAL System." />
        <meta name="author" content="Gustavo Adolfo Ovalle Quintero." />
        <title>GABYVAL System v#{SystemDateBean.app_version}</title>
    </h:head>
    <h:body>
        <h:form id="GBLogoutConfirmForm" >
            <p:dialog id="GBLogoutConfDlg" widgetVar="GBLogoutConfDlg" 
                      header="¿Desea cerrar su sesión de usuario?"
                      resizable="false" showEffect="clip" 
                      hideEffect="clip" width="500px" 
                      modal="true" closeOnEscape="true">
                <b:container fluid="true">
                    <b:panel collapsible="false" id="GBCntLogoutConfirm">
                        <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
                        <div class="modal-footer">
                            
                        </div>
                    </b:panel>
                </b:container>
                <p:commandButton value="Cancelar" class="btn btn-secondary" onclick="PF('GBLogoutConfDlg').hide();"/>                
                <f:facet name="footer">
                    <p:commandButton value="Cerrar sesión" onclick="HandleLogout(xhr, status, args)"/>
                    <p:remoteCommand name="logout" actionListener="#{UserSesionBean.logout}" action="logout"/>
            </f:facet>
            </p:dialog> 
        </h:form>
        <script type="text/javascript">
            function HandleLogout(xhr, status, args) {
                logout();
                PF('GBLogoutConfDlg').hide();
                $('logout').fadeOut();
            }
        </script>
    </h:body>
</html>